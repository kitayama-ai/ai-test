<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ãƒ†ã‚­ã‚¹ãƒˆã®å¤§æ–‡å­—/å°æ–‡å­—å¤‰æ›ã€å…¨è§’/åŠè§’å¤‰æ›ã€ã²ã‚‰ãŒãª/ã‚«ã‚¿ã‚«ãƒŠå¤‰æ›ãªã©ã‚’ä¸€æ‹¬å‡¦ç†ã€‚ãƒ‡ãƒ¼ã‚¿æ•´å½¢ã«ä¾¿åˆ©ãªç„¡æ–™ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›ãƒ„ãƒ¼ãƒ«ã€‚">
    <meta name="keywords" content="ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›,å…¨è§’åŠè§’å¤‰æ›,å¤§æ–‡å­—å°æ–‡å­—å¤‰æ›,ã²ã‚‰ãŒãªã‚«ã‚¿ã‚«ãƒŠå¤‰æ›,ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ› - WebToolBox">
    <meta property="og:description" content="å¤§æ–‡å­—/å°æ–‡å­—ã€å…¨è§’/åŠè§’ã€ã²ã‚‰ãŒãª/ã‚«ã‚¿ã‚«ãƒŠå¤‰æ›ãªã©å¤šå½©ãªå¤‰æ›æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ç„¡æ–™ãƒ„ãƒ¼ãƒ«ã€‚">
    <link rel="canonical" href="https://webtoolbox.example.com/tools/text-converter.html">
    <title>ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ› | å…¨è§’åŠè§’ãƒ»å¤§æ–‡å­—å°æ–‡å­—å¤‰æ›ãƒ„ãƒ¼ãƒ« - WebToolBox</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ”„</text></svg>">
    <style>
        .convert-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin-bottom: 24px;
        }
        .convert-btn {
            padding: 16px;
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            text-align: left;
        }
        .convert-btn:hover {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.05);
        }
        .convert-btn-title {
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 4px;
        }
        .convert-btn-desc {
            font-size: 12px;
            color: var(--gray-500);
        }
        .textarea-container {
            position: relative;
        }
        .char-count {
            position: absolute;
            bottom: 12px;
            right: 12px;
            font-size: 13px;
            color: var(--gray-400);
            background: white;
            padding: 2px 8px;
            border-radius: 4px;
        }
        .category-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-600);
            margin: 20px 0 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--gray-200);
        }
        .swap-icon {
            display: flex;
            justify-content: center;
            margin: 16px 0;
        }
        .swap-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            font-size: 20px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .swap-btn:hover {
            transform: rotate(180deg);
            background: var(--primary-dark);
        }
        .history-section {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid var(--gray-200);
        }
        .history-item {
            background: var(--gray-50);
            padding: 16px;
            border-radius: var(--radius);
            margin-bottom: 12px;
        }
        .history-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        .history-item-type {
            font-size: 13px;
            color: var(--primary);
            font-weight: 600;
        }
        .history-item-time {
            font-size: 12px;
            color: var(--gray-400);
        }
        .history-item-text {
            font-size: 14px;
            color: var(--gray-600);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
    </style>
</head>
<body class="tool-page">
    <!-- Header -->
    <header class="site-header">
        <div class="header-content">
            <a href="../" class="logo">
                <span class="logo-icon">ğŸ§°</span>
                <span>WebToolBox</span>
            </a>
            <nav>
                <ul class="nav-links">
                    <li><a href="../">ãƒ„ãƒ¼ãƒ«ä¸€è¦§</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Tool Header -->
    <section class="tool-header">
        <h1>ğŸ”„ ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›</h1>
        <p>å¤§æ–‡å­—/å°æ–‡å­—ã€å…¨è§’/åŠè§’ã€ã²ã‚‰ãŒãª/ã‚«ã‚¿ã‚«ãƒŠå¤‰æ›</p>
    </section>

    <!-- Main Content -->
    <main class="tool-content">
        <div class="tool-main">
            <!-- Input -->
            <div class="form-group">
                <label class="form-label">å¤‰æ›å‰ã®ãƒ†ã‚­ã‚¹ãƒˆ</label>
                <div class="textarea-container">
                    <textarea 
                        id="inputText" 
                        class="form-textarea" 
                        placeholder="å¤‰æ›ã—ãŸã„ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›..."
                        style="min-height: 150px;"
                        oninput="updateCharCount('input')"
                    ></textarea>
                    <span class="char-count" id="inputCount">0æ–‡å­—</span>
                </div>
            </div>

            <!-- Convert Buttons -->
            <div class="category-label">è‹±å­—å¤‰æ›</div>
            <div class="convert-buttons">
                <button class="convert-btn" onclick="convert('uppercase')">
                    <div class="convert-btn-title">å¤§æ–‡å­—ã«å¤‰æ›</div>
                    <div class="convert-btn-desc">abc â†’ ABC</div>
                </button>
                <button class="convert-btn" onclick="convert('lowercase')">
                    <div class="convert-btn-title">å°æ–‡å­—ã«å¤‰æ›</div>
                    <div class="convert-btn-desc">ABC â†’ abc</div>
                </button>
                <button class="convert-btn" onclick="convert('capitalize')">
                    <div class="convert-btn-title">å…ˆé ­ã‚’å¤§æ–‡å­—ã«</div>
                    <div class="convert-btn-desc">hello world â†’ Hello World</div>
                </button>
                <button class="convert-btn" onclick="convert('sentence')">
                    <div class="convert-btn-title">æ–‡é ­ã‚’å¤§æ–‡å­—ã«</div>
                    <div class="convert-btn-desc">hello. world â†’ Hello. World</div>
                </button>
            </div>

            <div class="category-label">å…¨è§’/åŠè§’å¤‰æ›</div>
            <div class="convert-buttons">
                <button class="convert-btn" onclick="convert('toFullWidth')">
                    <div class="convert-btn-title">å…¨è§’ã«å¤‰æ›</div>
                    <div class="convert-btn-desc">ABC123 â†’ ï¼¡ï¼¢ï¼£ï¼‘ï¼’ï¼“</div>
                </button>
                <button class="convert-btn" onclick="convert('toHalfWidth')">
                    <div class="convert-btn-title">åŠè§’ã«å¤‰æ›</div>
                    <div class="convert-btn-desc">ï¼¡ï¼¢ï¼£ï¼‘ï¼’ï¼“ â†’ ABC123</div>
                </button>
                <button class="convert-btn" onclick="convert('toFullWidthKana')">
                    <div class="convert-btn-title">ã‚«ãƒŠã‚’å…¨è§’ã«</div>
                    <div class="convert-btn-desc">ï½¶ï¾€ï½¶ï¾… â†’ ã‚«ã‚¿ã‚«ãƒŠ</div>
                </button>
                <button class="convert-btn" onclick="convert('toHalfWidthKana')">
                    <div class="convert-btn-title">ã‚«ãƒŠã‚’åŠè§’ã«</div>
                    <div class="convert-btn-desc">ã‚«ã‚¿ã‚«ãƒŠ â†’ ï½¶ï¾€ï½¶ï¾…</div>
                </button>
            </div>

            <div class="category-label">ã²ã‚‰ãŒãª/ã‚«ã‚¿ã‚«ãƒŠå¤‰æ›</div>
            <div class="convert-buttons">
                <button class="convert-btn" onclick="convert('toHiragana')">
                    <div class="convert-btn-title">ã²ã‚‰ãŒãªã«å¤‰æ›</div>
                    <div class="convert-btn-desc">ã‚«ã‚¿ã‚«ãƒŠ â†’ ã‹ãŸã‹ãª</div>
                </button>
                <button class="convert-btn" onclick="convert('toKatakana')">
                    <div class="convert-btn-title">ã‚«ã‚¿ã‚«ãƒŠã«å¤‰æ›</div>
                    <div class="convert-btn-desc">ã²ã‚‰ãŒãª â†’ ãƒ’ãƒ©ã‚¬ãƒŠ</div>
                </button>
            </div>

            <div class="category-label">ãã®ä»–ã®å¤‰æ›</div>
            <div class="convert-buttons">
                <button class="convert-btn" onclick="convert('removeSpaces')">
                    <div class="convert-btn-title">ç©ºç™½ã‚’å‰Šé™¤</div>
                    <div class="convert-btn-desc">a b c â†’ abc</div>
                </button>
                <button class="convert-btn" onclick="convert('removeLineBreaks')">
                    <div class="convert-btn-title">æ”¹è¡Œã‚’å‰Šé™¤</div>
                    <div class="convert-btn-desc">æ”¹è¡Œã‚’å‰Šé™¤ã—ã¦1è¡Œã«</div>
                </button>
                <button class="convert-btn" onclick="convert('trimLines')">
                    <div class="convert-btn-title">å„è¡Œã®å‰å¾Œç©ºç™½å‰Šé™¤</div>
                    <div class="convert-btn-desc">å„è¡Œã‚’ãƒˆãƒªãƒ </div>
                </button>
                <button class="convert-btn" onclick="convert('removeEmptyLines')">
                    <div class="convert-btn-title">ç©ºè¡Œã‚’å‰Šé™¤</div>
                    <div class="convert-btn-desc">ç©ºã®è¡Œã‚’å‰Šé™¤</div>
                </button>
                <button class="convert-btn" onclick="convert('reverseText')">
                    <div class="convert-btn-title">ãƒ†ã‚­ã‚¹ãƒˆã‚’åè»¢</div>
                    <div class="convert-btn-desc">ABC â†’ CBA</div>
                </button>
                <button class="convert-btn" onclick="convert('sortLines')">
                    <div class="convert-btn-title">è¡Œã‚’ã‚½ãƒ¼ãƒˆ</div>
                    <div class="convert-btn-desc">å„è¡Œã‚’ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã«</div>
                </button>
                <button class="convert-btn" onclick="convert('uniqueLines')">
                    <div class="convert-btn-title">é‡è¤‡è¡Œã‚’å‰Šé™¤</div>
                    <div class="convert-btn-desc">åŒã˜è¡Œã‚’1ã¤ã«ã¾ã¨ã‚ã‚‹</div>
                </button>
                <button class="convert-btn" onclick="convert('addLineNumbers')">
                    <div class="convert-btn-title">è¡Œç•ªå·ã‚’è¿½åŠ </div>
                    <div class="convert-btn-desc">å„è¡Œã®å…ˆé ­ã«ç•ªå·ã‚’è¿½åŠ </div>
                </button>
            </div>

            <!-- Swap Button -->
            <div class="swap-icon">
                <button class="swap-btn" onclick="swapTexts()" title="å…¥åŠ›ã¨å‡ºåŠ›ã‚’å…¥ã‚Œæ›¿ãˆ">â†•</button>
            </div>

            <!-- Output -->
            <div class="form-group">
                <label class="form-label">å¤‰æ›å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆ</label>
                <div class="textarea-container">
                    <textarea 
                        id="outputText" 
                        class="form-textarea" 
                        placeholder="å¤‰æ›çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™..."
                        style="min-height: 150px;"
                        readonly
                    ></textarea>
                    <span class="char-count" id="outputCount">0æ–‡å­—</span>
                </div>
            </div>

            <!-- Buttons -->
            <div class="btn-group">
                <button class="btn btn-primary" onclick="copyOutput()">
                    ğŸ“‹ çµæœã‚’ã‚³ãƒ”ãƒ¼
                </button>
                <button class="btn btn-secondary" onclick="clearAll()">
                    ğŸ—‘ï¸ ã‚¯ãƒªã‚¢
                </button>
            </div>

            <!-- History -->
            <div class="history-section">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <label class="form-label" style="margin: 0;">å¤‰æ›å±¥æ­´</label>
                    <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 14px;" onclick="clearHistory()">
                        å±¥æ­´ã‚’ã‚¯ãƒªã‚¢
                    </button>
                </div>
                <div id="historyList" style="margin-top: 16px;">
                    <p style="color: var(--gray-500); text-align: center; padding: 20px;">å±¥æ­´ã¯ã‚ã‚Šã¾ã›ã‚“</p>
                </div>
            </div>
        </div>

        <!-- Ad Space -->
        <div class="ad-container horizontal">
            <span>åºƒå‘Šã‚¹ãƒšãƒ¼ã‚¹ (728x90)</span>
        </div>

        <!-- Info Section -->
        <div class="info-box">
            <h2>ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›ãƒ„ãƒ¼ãƒ«ã®ä½¿ã„æ–¹</h2>
            <p>ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€æ§˜ã€…ãªãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›ã‚’ä¸€æ‹¬ã§è¡Œãˆã¾ã™ã€‚</p>
            <ul>
                <li><strong>è‹±å­—å¤‰æ›</strong> - å¤§æ–‡å­—/å°æ–‡å­—ã®å¤‰æ›</li>
                <li><strong>å…¨è§’/åŠè§’å¤‰æ›</strong> - è‹±æ•°å­—ã‚„ã‚«ã‚¿ã‚«ãƒŠã®å…¨è§’/åŠè§’å¤‰æ›</li>
                <li><strong>ã²ã‚‰ãŒãª/ã‚«ã‚¿ã‚«ãƒŠå¤‰æ›</strong> - æ—¥æœ¬èªã®æ–‡å­—ç¨®å¤‰æ›</li>
                <li><strong>ãã®ä»–</strong> - ç©ºç™½å‰Šé™¤ã€è¡Œã‚½ãƒ¼ãƒˆã€é‡è¤‡å‰Šé™¤ãªã©</li>
            </ul>
        </div>

        <!-- Use Cases -->
        <div class="info-box">
            <h2>ã“ã‚“ãªæ™‚ã«ä¾¿åˆ©</h2>
            <ul>
                <li>ãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ãƒ»æ­£è¦åŒ–</li>
                <li>ä½æ‰€ã‚„åå‰ã®è¡¨è¨˜çµ±ä¸€</li>
                <li>CSVãƒ‡ãƒ¼ã‚¿ã®æ•´å½¢</li>
                <li>ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆèª¿æ•´</li>
                <li>SNSæŠ•ç¨¿ç”¨ã®ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†</li>
            </ul>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="../">ãƒ›ãƒ¼ãƒ </a>
                <a href="../#tools">ãƒ„ãƒ¼ãƒ«ä¸€è¦§</a>
            </div>
            <p class="copyright">&copy; 2024 WebToolBox. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/common.js"></script>
    <script>
        let history = loadFromStorage('textConvertHistory', []);

        // å¤‰æ›é–¢æ•°
        const converters = {
            uppercase: (text) => text.toUpperCase(),
            lowercase: (text) => text.toLowerCase(),
            capitalize: (text) => text.replace(/\b\w/g, c => c.toUpperCase()),
            sentence: (text) => text.replace(/(^\s*\w|[.!?]\s*\w)/g, c => c.toUpperCase()),
            
            toFullWidth: (text) => text.replace(/[A-Za-z0-9]/g, s => 
                String.fromCharCode(s.charCodeAt(0) + 0xFEE0)
            ),
            toHalfWidth: (text) => text.replace(/[ï¼¡-ï¼ºï½-ï½šï¼-ï¼™]/g, s => 
                String.fromCharCode(s.charCodeAt(0) - 0xFEE0)
            ),
            toFullWidthKana: (text) => {
                const kanaMap = {
                    'ï½±':'ã‚¢','ï½²':'ã‚¤','ï½³':'ã‚¦','ï½´':'ã‚¨','ï½µ':'ã‚ª',
                    'ï½¶':'ã‚«','ï½·':'ã‚­','ï½¸':'ã‚¯','ï½¹':'ã‚±','ï½º':'ã‚³',
                    'ï½»':'ã‚µ','ï½¼':'ã‚·','ï½½':'ã‚¹','ï½¾':'ã‚»','ï½¿':'ã‚½',
                    'ï¾€':'ã‚¿','ï¾':'ãƒ','ï¾‚':'ãƒ„','ï¾ƒ':'ãƒ†','ï¾„':'ãƒˆ',
                    'ï¾…':'ãƒŠ','ï¾†':'ãƒ‹','ï¾‡':'ãƒŒ','ï¾ˆ':'ãƒ','ï¾‰':'ãƒ',
                    'ï¾Š':'ãƒ','ï¾‹':'ãƒ’','ï¾Œ':'ãƒ•','ï¾':'ãƒ˜','ï¾':'ãƒ›',
                    'ï¾':'ãƒ','ï¾':'ãƒŸ','ï¾‘':'ãƒ ','ï¾’':'ãƒ¡','ï¾“':'ãƒ¢',
                    'ï¾”':'ãƒ¤','ï¾•':'ãƒ¦','ï¾–':'ãƒ¨',
                    'ï¾—':'ãƒ©','ï¾˜':'ãƒª','ï¾™':'ãƒ«','ï¾š':'ãƒ¬','ï¾›':'ãƒ­',
                    'ï¾œ':'ãƒ¯','ï½¦':'ãƒ²','ï¾':'ãƒ³',
                    'ï½§':'ã‚¡','ï½¨':'ã‚£','ï½©':'ã‚¥','ï½ª':'ã‚§','ï½«':'ã‚©',
                    'ï½¬':'ãƒ£','ï½­':'ãƒ¥','ï½®':'ãƒ§','ï½¯':'ãƒƒ',
                    'ï¾':'ã‚›','ï¾Ÿ':'ã‚œ','ï½°':'ãƒ¼'
                };
                return text.replace(/[ï½¦-ï¾Ÿ]/g, s => kanaMap[s] || s);
            },
            toHalfWidthKana: (text) => {
                const kanaMap = {
                    'ã‚¢':'ï½±','ã‚¤':'ï½²','ã‚¦':'ï½³','ã‚¨':'ï½´','ã‚ª':'ï½µ',
                    'ã‚«':'ï½¶','ã‚­':'ï½·','ã‚¯':'ï½¸','ã‚±':'ï½¹','ã‚³':'ï½º',
                    'ã‚µ':'ï½»','ã‚·':'ï½¼','ã‚¹':'ï½½','ã‚»':'ï½¾','ã‚½':'ï½¿',
                    'ã‚¿':'ï¾€','ãƒ':'ï¾','ãƒ„':'ï¾‚','ãƒ†':'ï¾ƒ','ãƒˆ':'ï¾„',
                    'ãƒŠ':'ï¾…','ãƒ‹':'ï¾†','ãƒŒ':'ï¾‡','ãƒ':'ï¾ˆ','ãƒ':'ï¾‰',
                    'ãƒ':'ï¾Š','ãƒ’':'ï¾‹','ãƒ•':'ï¾Œ','ãƒ˜':'ï¾','ãƒ›':'ï¾',
                    'ãƒ':'ï¾','ãƒŸ':'ï¾','ãƒ ':'ï¾‘','ãƒ¡':'ï¾’','ãƒ¢':'ï¾“',
                    'ãƒ¤':'ï¾”','ãƒ¦':'ï¾•','ãƒ¨':'ï¾–',
                    'ãƒ©':'ï¾—','ãƒª':'ï¾˜','ãƒ«':'ï¾™','ãƒ¬':'ï¾š','ãƒ­':'ï¾›',
                    'ãƒ¯':'ï¾œ','ãƒ²':'ï½¦','ãƒ³':'ï¾',
                    'ã‚¡':'ï½§','ã‚£':'ï½¨','ã‚¥':'ï½©','ã‚§':'ï½ª','ã‚©':'ï½«',
                    'ãƒ£':'ï½¬','ãƒ¥':'ï½­','ãƒ§':'ï½®','ãƒƒ':'ï½¯',
                    'ã‚›':'ï¾','ã‚œ':'ï¾Ÿ','ãƒ¼':'ï½°'
                };
                return text.replace(/[ã‚¡-ãƒ´ãƒ¼ã‚›ã‚œ]/g, s => kanaMap[s] || s);
            },
            
            toHiragana: (text) => text.replace(/[\u30A1-\u30F6]/g, s => 
                String.fromCharCode(s.charCodeAt(0) - 0x60)
            ),
            toKatakana: (text) => text.replace(/[\u3041-\u3096]/g, s => 
                String.fromCharCode(s.charCodeAt(0) + 0x60)
            ),
            
            removeSpaces: (text) => text.replace(/[\sã€€]/g, ''),
            removeLineBreaks: (text) => text.replace(/\n/g, ''),
            trimLines: (text) => text.split('\n').map(line => line.trim()).join('\n'),
            removeEmptyLines: (text) => text.split('\n').filter(line => line.trim()).join('\n'),
            reverseText: (text) => text.split('').reverse().join(''),
            sortLines: (text) => text.split('\n').sort().join('\n'),
            uniqueLines: (text) => [...new Set(text.split('\n'))].join('\n'),
            addLineNumbers: (text) => text.split('\n').map((line, i) => `${i + 1}. ${line}`).join('\n')
        };

        const converterNames = {
            uppercase: 'å¤§æ–‡å­—ã«å¤‰æ›',
            lowercase: 'å°æ–‡å­—ã«å¤‰æ›',
            capitalize: 'å…ˆé ­ã‚’å¤§æ–‡å­—ã«',
            sentence: 'æ–‡é ­ã‚’å¤§æ–‡å­—ã«',
            toFullWidth: 'å…¨è§’ã«å¤‰æ›',
            toHalfWidth: 'åŠè§’ã«å¤‰æ›',
            toFullWidthKana: 'ã‚«ãƒŠã‚’å…¨è§’ã«',
            toHalfWidthKana: 'ã‚«ãƒŠã‚’åŠè§’ã«',
            toHiragana: 'ã²ã‚‰ãŒãªã«å¤‰æ›',
            toKatakana: 'ã‚«ã‚¿ã‚«ãƒŠã«å¤‰æ›',
            removeSpaces: 'ç©ºç™½ã‚’å‰Šé™¤',
            removeLineBreaks: 'æ”¹è¡Œã‚’å‰Šé™¤',
            trimLines: 'å„è¡Œã®å‰å¾Œç©ºç™½å‰Šé™¤',
            removeEmptyLines: 'ç©ºè¡Œã‚’å‰Šé™¤',
            reverseText: 'ãƒ†ã‚­ã‚¹ãƒˆã‚’åè»¢',
            sortLines: 'è¡Œã‚’ã‚½ãƒ¼ãƒˆ',
            uniqueLines: 'é‡è¤‡è¡Œã‚’å‰Šé™¤',
            addLineNumbers: 'è¡Œç•ªå·ã‚’è¿½åŠ '
        };

        // å¤‰æ›å®Ÿè¡Œ
        function convert(type) {
            const input = document.getElementById('inputText').value;
            if (!input) {
                showToast('ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            const output = converters[type](input);
            document.getElementById('outputText').value = output;
            updateCharCount('output');

            // å±¥æ­´ã«è¿½åŠ 
            addToHistory(type, input.substring(0, 50));
        }

        // æ–‡å­—æ•°æ›´æ–°
        function updateCharCount(type) {
            const text = document.getElementById(type + 'Text').value;
            document.getElementById(type + 'Count').textContent = text.length + 'æ–‡å­—';
        }

        // å…¥ã‚Œæ›¿ãˆ
        function swapTexts() {
            const input = document.getElementById('inputText');
            const output = document.getElementById('outputText');
            const temp = input.value;
            input.value = output.value;
            output.value = temp;
            updateCharCount('input');
            updateCharCount('output');
        }

        // ã‚³ãƒ”ãƒ¼
        function copyOutput() {
            const output = document.getElementById('outputText').value;
            if (output) {
                navigator.clipboard.writeText(output).then(() => {
                    showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                });
            }
        }

        // ã‚¯ãƒªã‚¢
        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').value = '';
            updateCharCount('input');
            updateCharCount('output');
        }

        // å±¥æ­´è¿½åŠ 
        function addToHistory(type, preview) {
            history.unshift({
                type: converterNames[type],
                preview: preview,
                time: new Date().toLocaleTimeString('ja-JP')
            });
            if (history.length > 10) history.pop();
            saveToStorage('textConvertHistory', history);
            renderHistory();
        }

        // å±¥æ­´è¡¨ç¤º
        function renderHistory() {
            const list = document.getElementById('historyList');
            if (history.length === 0) {
                list.innerHTML = '<p style="color: var(--gray-500); text-align: center; padding: 20px;">å±¥æ­´ã¯ã‚ã‚Šã¾ã›ã‚“</p>';
                return;
            }

            list.innerHTML = history.map(item => `
                <div class="history-item">
                    <div class="history-item-header">
                        <span class="history-item-type">${item.type}</span>
                        <span class="history-item-time">${item.time}</span>
                    </div>
                    <div class="history-item-text">${escapeHtml(item.preview)}...</div>
                </div>
            `).join('');
        }

        // HTML ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // å±¥æ­´ã‚¯ãƒªã‚¢
        function clearHistory() {
            history = [];
            saveToStorage('textConvertHistory', []);
            renderHistory();
            showToast('å±¥æ­´ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
        }

        // åˆæœŸåŒ–
        renderHistory();
    </script>
</body>
</html>
