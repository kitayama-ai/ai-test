<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="å®‰å…¨ã§å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆã€‚é•·ã•ãƒ»æ–‡å­—ç¨®ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’é«˜ã‚ã‚‹ç„¡æ–™ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã€‚">
    <meta name="keywords" content="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ,ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼,å®‰å…¨ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰,ãƒ©ãƒ³ãƒ€ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰,ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ - WebToolBox">
    <meta property="og:description" content="å®‰å…¨ã§å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆã€‚é•·ã•ãƒ»æ–‡å­—ç¨®ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªç„¡æ–™ãƒ„ãƒ¼ãƒ«ã€‚">
    <link rel="canonical" href="https://webtoolbox.example.com/tools/password-generator.html">
    <title>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ | å®‰å…¨ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ - WebToolBox</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ”</text></svg>">
    <style>
        .password-display {
            background: var(--gray-800);
            border-radius: var(--radius);
            padding: 24px;
            position: relative;
            margin-bottom: 20px;
        }
        .password-text {
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: 24px;
            color: #10b981;
            word-break: break-all;
            text-align: center;
            padding-right: 80px;
            min-height: 36px;
        }
        .strength-meter {
            margin-top: 16px;
        }
        .strength-bar {
            height: 8px;
            background: var(--gray-200);
            border-radius: 4px;
            overflow: hidden;
        }
        .strength-fill {
            height: 100%;
            border-radius: 4px;
            transition: all 0.3s;
        }
        .strength-label {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 14px;
        }
        .strength-text {
            font-weight: 600;
        }
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }
        .option-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            background: var(--gray-50);
            border-radius: var(--radius);
        }
        .option-label {
            font-weight: 500;
        }
        .checkbox-toggle {
            position: relative;
            width: 52px;
            height: 28px;
            background: var(--gray-300);
            border-radius: 14px;
            cursor: pointer;
            transition: var(--transition);
        }
        .checkbox-toggle.active {
            background: var(--primary);
        }
        .checkbox-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }
        .checkbox-toggle.active::after {
            left: 26px;
        }
        .history-list {
            margin-top: 20px;
        }
        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: var(--gray-50);
            border-radius: 8px;
            margin-bottom: 8px;
            font-family: 'SF Mono', monospace;
            font-size: 14px;
        }
        .history-item button {
            padding: 6px 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }
        .bulk-passwords {
            background: var(--gray-50);
            padding: 16px;
            border-radius: var(--radius);
            max-height: 300px;
            overflow-y: auto;
        }
        .bulk-passwords p {
            font-family: 'SF Mono', monospace;
            font-size: 14px;
            padding: 8px 0;
            border-bottom: 1px solid var(--gray-200);
            margin: 0;
        }
        .bulk-passwords p:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body class="tool-page">
    <!-- Header -->
    <header class="site-header">
        <div class="header-content">
            <a href="../" class="logo">
                <span class="logo-icon">ğŸ§°</span>
                <span>WebToolBox</span>
            </a>
            <nav>
                <ul class="nav-links">
                    <li><a href="../">ãƒ„ãƒ¼ãƒ«ä¸€è¦§</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Tool Header -->
    <section class="tool-header">
        <h1>ğŸ” ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ</h1>
        <p>å®‰å…¨ã§å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆ</p>
    </section>

    <!-- Main Content -->
    <main class="tool-content">
        <div class="tool-main">
            <!-- Password Display -->
            <div class="password-display">
                <div class="password-text" id="passwordDisplay">ç”Ÿæˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</div>
                <button class="copy-btn" onclick="copyPassword()">ã‚³ãƒ”ãƒ¼</button>
            </div>

            <!-- Strength Meter -->
            <div class="strength-meter">
                <div class="strength-bar">
                    <div class="strength-fill" id="strengthFill" style="width: 0%; background: var(--gray-400);"></div>
                </div>
                <div class="strength-label">
                    <span class="strength-text" id="strengthText">-</span>
                    <span id="entropyText">-</span>
                </div>
            </div>

            <!-- Length Slider -->
            <div class="form-group" style="margin-top: 24px;">
                <label class="form-label">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®é•·ã•</label>
                <div class="range-container">
                    <input type="range" id="passwordLength" class="range-input" min="4" max="64" value="16" oninput="updateLength()">
                    <span class="range-value" id="lengthValue">16æ–‡å­—</span>
                </div>
            </div>

            <!-- Options -->
            <div class="form-group">
                <label class="form-label">å«ã‚ã‚‹æ–‡å­—</label>
                <div class="options-grid">
                    <div class="option-item">
                        <span class="option-label">å¤§æ–‡å­— (A-Z)</span>
                        <div class="checkbox-toggle active" id="toggleUpper" onclick="toggleOption('upper')"></div>
                    </div>
                    <div class="option-item">
                        <span class="option-label">å°æ–‡å­— (a-z)</span>
                        <div class="checkbox-toggle active" id="toggleLower" onclick="toggleOption('lower')"></div>
                    </div>
                    <div class="option-item">
                        <span class="option-label">æ•°å­— (0-9)</span>
                        <div class="checkbox-toggle active" id="toggleNumbers" onclick="toggleOption('numbers')"></div>
                    </div>
                    <div class="option-item">
                        <span class="option-label">è¨˜å· (!@#$%)</span>
                        <div class="checkbox-toggle active" id="toggleSymbols" onclick="toggleOption('symbols')"></div>
                    </div>
                </div>
            </div>

            <!-- Additional Options -->
            <div class="form-group">
                <label class="form-label">è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³</label>
                <div class="options-grid">
                    <div class="option-item">
                        <span class="option-label">ç´›ã‚‰ã‚ã—ã„æ–‡å­—ã‚’é™¤å¤–</span>
                        <div class="checkbox-toggle" id="toggleExclude" onclick="toggleOption('exclude')"></div>
                    </div>
                    <div class="option-item">
                        <span class="option-label">å…ˆé ­ã‚’æ•°å­—ä»¥å¤–ã«</span>
                        <div class="checkbox-toggle" id="toggleNoStartNum" onclick="toggleOption('noStartNum')"></div>
                    </div>
                </div>
                <p style="font-size: 13px; color: var(--gray-500); margin-top: 8px;">
                    â€»ç´›ã‚‰ã‚ã—ã„æ–‡å­—: 0, O, o, l, 1, I ãªã©
                </p>
            </div>

            <!-- Buttons -->
            <div class="btn-group" style="margin-top: 24px;">
                <button class="btn btn-primary" onclick="generatePassword()">
                    ğŸ”„ ç”Ÿæˆã™ã‚‹
                </button>
                <button class="btn btn-secondary" onclick="copyPassword()">
                    ğŸ“‹ ã‚³ãƒ”ãƒ¼
                </button>
            </div>

            <!-- Bulk Generation -->
            <div class="form-group" style="margin-top: 32px; padding-top: 24px; border-top: 1px solid var(--gray-200);">
                <label class="form-label">ä¸€æ‹¬ç”Ÿæˆ</label>
                <div style="display: flex; gap: 12px; align-items: center; flex-wrap: wrap;">
                    <input type="number" id="bulkCount" class="form-input" value="5" min="1" max="100" style="width: 100px;">
                    <span>å€‹ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ</span>
                    <button class="btn btn-secondary" onclick="generateBulk()">ä¸€æ‹¬ç”Ÿæˆ</button>
                </div>
                <div class="bulk-passwords hidden" id="bulkResults"></div>
            </div>

            <!-- History -->
            <div class="form-group" style="margin-top: 24px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <label class="form-label" style="margin-bottom: 0;">ç”Ÿæˆå±¥æ­´</label>
                    <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 14px;" onclick="clearHistory()">
                        å±¥æ­´ã‚’ã‚¯ãƒªã‚¢
                    </button>
                </div>
                <div class="history-list" id="historyList">
                    <p style="color: var(--gray-500); text-align: center; padding: 20px;">å±¥æ­´ã¯ã‚ã‚Šã¾ã›ã‚“</p>
                </div>
            </div>
        </div>

        <!-- Ad Space -->
        <div class="ad-container horizontal">
            <span>åºƒå‘Šã‚¹ãƒšãƒ¼ã‚¹ (728x90)</span>
        </div>

        <!-- Info Section -->
        <div class="info-box">
            <h2>å®‰å…¨ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®æ¡ä»¶</h2>
            <ul>
                <li><strong>12æ–‡å­—ä»¥ä¸Š</strong> - é•·ã„ã»ã©è§£èª­ã•ã‚Œã«ãã„</li>
                <li><strong>å¤§æ–‡å­—ãƒ»å°æ–‡å­—ãƒ»æ•°å­—ãƒ»è¨˜å·ã‚’æ··åœ¨</strong> - çµ„ã¿åˆã‚ã›ã®æ•°ãŒå¢—ãˆã‚‹</li>
                <li><strong>è¾æ›¸ã«ã‚ã‚‹å˜èªã‚’ä½¿ã‚ãªã„</strong> - è¾æ›¸æ”»æ’ƒã‚’é˜²ã</li>
                <li><strong>å€‹äººæƒ…å ±ã‚’å«ã‚ãªã„</strong> - èª•ç”Ÿæ—¥ã€åå‰ãªã©ã¯é¿ã‘ã‚‹</li>
                <li><strong>ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ç•°ãªã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</strong> - æµå‡ºæ™‚ã®è¢«å®³ã‚’æœ€å°åŒ–</li>
            </ul>
        </div>

        <!-- Password Strength -->
        <div class="info-box">
            <h2>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ã®ç›®å®‰</h2>
            <ul>
                <li><span style="color: #ef4444; font-weight: 600;">éå¸¸ã«å¼±ã„</span> - ã™ãã«è§£èª­ã•ã‚Œã‚‹å¯èƒ½æ€§</li>
                <li><span style="color: #f59e0b; font-weight: 600;">å¼±ã„</span> - æ•°æ™‚é–“ã€œæ•°æ—¥ã§è§£èª­ã•ã‚Œã‚‹å¯èƒ½æ€§</li>
                <li><span style="color: #eab308; font-weight: 600;">æ™®é€š</span> - ä¸€èˆ¬çš„ãªç”¨é€”ãªã‚‰è¨±å®¹ç¯„å›²</li>
                <li><span style="color: #84cc16; font-weight: 600;">å¼·ã„</span> - é‡è¦ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«æ¨å¥¨</li>
                <li><span style="color: #10b981; font-weight: 600;">éå¸¸ã«å¼·ã„</span> - æœ€é«˜ãƒ¬ãƒ™ãƒ«ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</li>
            </ul>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="../">ãƒ›ãƒ¼ãƒ </a>
                <a href="../#tools">ãƒ„ãƒ¼ãƒ«ä¸€è¦§</a>
            </div>
            <p class="copyright">&copy; 2024 WebToolBox. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/common.js"></script>
    <script>
        const options = {
            upper: true,
            lower: true,
            numbers: true,
            symbols: true,
            exclude: false,
            noStartNum: false
        };

        const chars = {
            upper: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            lower: 'abcdefghijklmnopqrstuvwxyz',
            numbers: '0123456789',
            symbols: '!@#$%^&*()_+-=[]{}|;:,.<>?'
        };

        const excludeChars = '0Ool1I';
        let history = loadFromStorage('passwordHistory', []);

        // ã‚ªãƒ—ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
        function toggleOption(option) {
            options[option] = !options[option];
            const toggle = document.getElementById('toggle' + option.charAt(0).toUpperCase() + option.slice(1));
            toggle.classList.toggle('active', options[option]);
            
            // å°‘ãªãã¨ã‚‚1ã¤ã¯æœ‰åŠ¹ã«ã™ã‚‹
            if (!options.upper && !options.lower && !options.numbers && !options.symbols) {
                options.lower = true;
                document.getElementById('toggleLower').classList.add('active');
            }
        }

        // é•·ã•æ›´æ–°
        function updateLength() {
            const length = document.getElementById('passwordLength').value;
            document.getElementById('lengthValue').textContent = length + 'æ–‡å­—';
        }

        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ
        function generatePassword() {
            const length = parseInt(document.getElementById('passwordLength').value);
            let charset = '';

            if (options.upper) charset += chars.upper;
            if (options.lower) charset += chars.lower;
            if (options.numbers) charset += chars.numbers;
            if (options.symbols) charset += chars.symbols;

            if (options.exclude) {
                charset = charset.split('').filter(c => !excludeChars.includes(c)).join('');
            }

            if (!charset) {
                showToast('å°‘ãªãã¨ã‚‚1ã¤ã®æ–‡å­—ç¨®ã‚’é¸æŠã—ã¦ãã ã•ã„', 'error');
                return;
            }

            let password = '';
            const array = new Uint32Array(length);
            crypto.getRandomValues(array);

            for (let i = 0; i < length; i++) {
                password += charset[array[i] % charset.length];
            }

            // å…ˆé ­ã‚’æ•°å­—ä»¥å¤–ã«ã™ã‚‹
            if (options.noStartNum && /^\d/.test(password)) {
                let nonNumChars = charset.replace(/[0-9]/g, '');
                if (nonNumChars) {
                    const randomIndex = crypto.getRandomValues(new Uint32Array(1))[0] % nonNumChars.length;
                    password = nonNumChars[randomIndex] + password.slice(1);
                }
            }

            document.getElementById('passwordDisplay').textContent = password;
            updateStrength(password, charset.length);
            addToHistory(password);
        }

        // å¼·åº¦è¨ˆç®—
        function updateStrength(password, charsetSize) {
            const entropy = password.length * Math.log2(charsetSize);
            let strength, color, percent;

            if (entropy < 28) {
                strength = 'éå¸¸ã«å¼±ã„';
                color = '#ef4444';
                percent = 20;
            } else if (entropy < 36) {
                strength = 'å¼±ã„';
                color = '#f59e0b';
                percent = 40;
            } else if (entropy < 60) {
                strength = 'æ™®é€š';
                color = '#eab308';
                percent = 60;
            } else if (entropy < 80) {
                strength = 'å¼·ã„';
                color = '#84cc16';
                percent = 80;
            } else {
                strength = 'éå¸¸ã«å¼·ã„';
                color = '#10b981';
                percent = 100;
            }

            const fill = document.getElementById('strengthFill');
            fill.style.width = percent + '%';
            fill.style.background = color;

            document.getElementById('strengthText').textContent = strength;
            document.getElementById('strengthText').style.color = color;
            document.getElementById('entropyText').textContent = `ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼: ${entropy.toFixed(1)} bits`;
        }

        // å±¥æ­´ã«è¿½åŠ 
        function addToHistory(password) {
            history.unshift(password);
            if (history.length > 10) history.pop();
            saveToStorage('passwordHistory', history);
            renderHistory();
        }

        // å±¥æ­´è¡¨ç¤º
        function renderHistory() {
            const list = document.getElementById('historyList');
            if (history.length === 0) {
                list.innerHTML = '<p style="color: var(--gray-500); text-align: center; padding: 20px;">å±¥æ­´ã¯ã‚ã‚Šã¾ã›ã‚“</p>';
                return;
            }

            list.innerHTML = history.map((pw, i) => `
                <div class="history-item">
                    <span>${pw}</span>
                    <button onclick="copyFromHistory(${i})">ã‚³ãƒ”ãƒ¼</button>
                </div>
            `).join('');
        }

        // å±¥æ­´ã‹ã‚‰ã‚³ãƒ”ãƒ¼
        function copyFromHistory(index) {
            navigator.clipboard.writeText(history[index]).then(() => {
                showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
            });
        }

        // å±¥æ­´ã‚¯ãƒªã‚¢
        function clearHistory() {
            history = [];
            saveToStorage('passwordHistory', []);
            renderHistory();
            showToast('å±¥æ­´ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
        }

        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼
        function copyPassword() {
            const password = document.getElementById('passwordDisplay').textContent;
            if (password && password !== 'ç”Ÿæˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯') {
                navigator.clipboard.writeText(password).then(() => {
                    showToast('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                });
            }
        }

        // ä¸€æ‹¬ç”Ÿæˆ
        function generateBulk() {
            const count = Math.min(100, Math.max(1, parseInt(document.getElementById('bulkCount').value) || 5));
            const length = parseInt(document.getElementById('passwordLength').value);
            let charset = '';

            if (options.upper) charset += chars.upper;
            if (options.lower) charset += chars.lower;
            if (options.numbers) charset += chars.numbers;
            if (options.symbols) charset += chars.symbols;

            if (options.exclude) {
                charset = charset.split('').filter(c => !excludeChars.includes(c)).join('');
            }

            const passwords = [];
            for (let i = 0; i < count; i++) {
                let password = '';
                const array = new Uint32Array(length);
                crypto.getRandomValues(array);
                for (let j = 0; j < length; j++) {
                    password += charset[array[j] % charset.length];
                }
                passwords.push(password);
            }

            const results = document.getElementById('bulkResults');
            results.innerHTML = passwords.map(pw => `<p>${pw}</p>`).join('');
            results.classList.remove('hidden');

            // ã‚³ãƒ”ãƒ¼ç”¨ã®ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            const copyAllBtn = document.createElement('button');
            copyAllBtn.className = 'btn btn-primary';
            copyAllBtn.style.marginTop = '12px';
            copyAllBtn.textContent = 'å…¨ã¦ã‚³ãƒ”ãƒ¼';
            copyAllBtn.onclick = () => {
                navigator.clipboard.writeText(passwords.join('\n')).then(() => {
                    showToast('å…¨ã¦ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                });
            };
            results.appendChild(copyAllBtn);
        }

        // åˆæœŸåŒ–
        renderHistory();
        generatePassword();
    </script>
</body>
</html>
